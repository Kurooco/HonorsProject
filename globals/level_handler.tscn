[gd_scene load_steps=9 format=3 uid="uid://jip4wup8hkl7"]

[ext_resource type="Script" uid="uid://d2mcprb77tpp2" path="res://globals/level_handler.gd" id="1_2e1au"]
[ext_resource type="PackedScene" uid="uid://cmywb7sdrlhyc" path="res://scenes/levels/rest_2.tscn" id="2_np1er"]
[ext_resource type="Script" uid="uid://jah44sasojar" path="res://scenes/ui/hud.gd" id="3_cp8yn"]
[ext_resource type="PackedScene" uid="uid://cknpb7qewaitc" path="res://scenes/levels/rest_1.tscn" id="3_np1er"]
[ext_resource type="Texture2D" uid="uid://chaceujneqia" path="res://art/acorn.png" id="4_d5bor"]
[ext_resource type="PackedScene" uid="uid://biwrs0a15oqve" path="res://scenes/ui/upgrade_menu/upgrade_menu.tscn" id="5_bisso"]
[ext_resource type="Script" uid="uid://b785gwm0fjclo" path="res://GameSaver/game_slot_saver.gd" id="6_vghx1"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_71i82"]
bg_color = Color(1, 0.18939, 0.298565, 1)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5

[node name="LevelHandler" type="Node"]
script = ExtResource("1_2e1au")
opening_scene = ExtResource("2_np1er")
roaming_levels = Array[PackedScene]([ExtResource("3_np1er"), ExtResource("2_np1er")])

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource("3_cp8yn")

[node name="ProgressBar" type="ProgressBar" parent="HUD"]
offset_left = 12.0
offset_top = 10.0
offset_right = 150.0
offset_bottom = 37.0
theme_override_styles/fill = SubResource("StyleBoxFlat_71i82")
show_percentage = false

[node name="Points" type="Label" parent="HUD"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -221.0
offset_top = 8.0
offset_right = -16.0
offset_bottom = 31.0
grow_horizontal = 0
text = "Points: 0"
horizontal_alignment = 2

[node name="AcornProgress" type="TextureProgressBar" parent="HUD"]
offset_left = 157.0
offset_top = 7.0
offset_right = 306.0
offset_bottom = 57.0
value = 50.0
texture_under = ExtResource("4_d5bor")
texture_progress = ExtResource("4_d5bor")
tint_under = Color(0.0846899, 0.0846899, 0.0846899, 1)
tint_progress = Color(0.724643, 0.724643, 0.724643, 1)

[node name="FadeCanvas" type="CanvasLayer" parent="."]
layer = 10

[node name="Fade" type="ColorRect" parent="FadeCanvas"]
offset_left = -85.0
offset_top = -56.0
offset_right = 1268.0
offset_bottom = 751.0
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="UpgradeMenu" parent="." instance=ExtResource("5_bisso")]
visible = false

[node name="GameSaver" type="Node" parent="."]
script = ExtResource("6_vghx1")
autoloads_to_save = Array[String](["PlayerStats"])

[node name="LevelWinScreen" type="CanvasLayer" parent="."]
visible = false

[node name="Label" type="Label" parent="LevelWinScreen"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -333.0
offset_right = 333.0
offset_bottom = 205.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 150
text = "You won!"
